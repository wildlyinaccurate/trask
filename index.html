<!DOCTYPE html>

<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8" />

  <!-- Set the viewport width to device width for mobile -->
  <meta name="viewport" content="width=device-width" />

  <title>Trask</title>

  <link rel="stylesheet" href="app/css/foundation.css">
  <link rel="stylesheet" href="app/css/trask.css">

  <script src="app/js/lib/modernizr-2.6.2.js"></script>

  <!-- IE Fix for HTML5 Tags -->
  <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>
<body>

  <section id="trask">
    <header id="header" class="row">
      <div class="twelve columns">
        <h1>Trask</h1>
      </div>
    </header>

    <div class="row">
      <section class="four columns">
        <h2>Lists</h2>

        <ul id="lists" data-bind="foreach: lists.lists">
          <li></li>
        </ul>
      </section>

      <section id="main" class="eight columns" data-bind="block: todos.tasks_exist">
        <input id="new-todo" type="text" data-bind="value: header.title, valueUpdate: 'afterkeydown', event: {keyup: header.onAddTodo}" placeholder="What needs to be done?" autofocus>
        <input id="toggle-all" type="checkbox" data-bind="checked: todos.all_completed">
        <label for="toggle-all">Mark all as complete</label>
        <ul id="todo-list" data-bind="foreach: todos.todos">
          <li data-bind="css: {completed: completed, editing: editing}, visible: visible">
            <div class="view" data-bind="event: {dblclick: onCheckEditBegin}">
              <input class="toggle" type="checkbox" data-bind="checked: completed" checked>
              <label data-bind="text: title"></label>
              <button class="destroy" data-bind="click: onDestroyTodo"></button>
            </div>
            <input class="edit" type="text" data-bind="value: title, selectAndFocus: editing, event: {blur: onCheckEditEnd, keyup: onCheckEditEnd}">
          </li>
        </ul>
      </section>
    </div>

    <footer id="footer" data-bind="block: todos.tasks_exist">
      <span id="todo-count" data-bind="html: footer.remaining_text"></span>
      <ul id="filters">
        <li>
          <a href="#/" data-bind="css: {selected: settings.list_filter_mode()==''}">All</a>
        </li>
        <li>
          <a href="#/active" data-bind="css: {selected: settings.list_filter_mode()=='active'}">Active</a>
        </li>
        <li>
          <a href="#/completed" data-bind="css: {selected: settings.list_filter_mode()=='completed'}">Completed</a>
        </li>
      </ul>
      <button id="clear-completed" data-bind="text: footer.clear_text, block: footer.clear_text, click: footer.onDestroyCompleted"></button>
    </footer>
  </section>

  <!-- Depedencies -->
  <script src="app/js/lib/jquery-1.8.1.min.js"></script>

  <!-- Knockback and dependencies -->
  <script src="app/js/lib/underscore-1.3.3.js"></script>
  <script src="app/js/lib/backbone-0.9.2.js"></script>
  <script src="app/js/lib/knockout-2.1.0.js"></script>
  <script src="app/js/lib/knockback-0.16.1.js"></script>

  <!-- Knockback Components -->
  <script src="app/js/lib/backbone.localStorage-1.0.js"></script>
  <script src="app/js/lib/backbone-relational-0.6.0.js"></script>
  <script src="app/js/lib/knockback-navigators-0.1.0.js"></script>

  <!-- Foundation -->
  <script src="app/js/lib/foundation/jquery.foundation.accordion.js"></script>
  <script src="app/js/lib/foundation/jquery.foundation.alerts.js"></script>
  <script src="app/js/lib/foundation/jquery.foundation.buttons.js"></script>
  <script src="app/js/lib/foundation/jquery.foundation.forms.js"></script>
  <script src="app/js/lib/foundation/jquery.foundation.mediaQueryToggle.js"></script>
  <script src="app/js/lib/foundation/jquery.foundation.navigation.js"></script>
  <script src="app/js/lib/foundation/jquery.foundation.reveal.js"></script>
  <script src="app/js/lib/foundation/jquery.foundation.tabs.js"></script>
  <script src="app/js/lib/foundation/jquery.foundation.tooltips.js"></script>
  <script src="app/js/lib/foundation/jquery.placeholder.js"></script>

  <!-- App -->
  <script src="app/js/models/todo.js"></script>
  <script src="app/js/models/todo_collection.js"></script>
  <script src="app/js/models/list.js"></script>
  <script src="app/js/models/list_collection.js"></script>

  <script src="app/js/viewmodels/settings.js"></script>
  <script src="app/js/viewmodels/header.js"></script>
  <script src="app/js/viewmodels/lists.js"></script>
  <script src="app/js/viewmodels/todos.js"></script>
  <script src="app/js/viewmodels/footer.js"></script>

  <script src="app/js/routers/app.js"></script>

  <script src="app/js/app.js"></script>

</body>
</html>
